{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uHACAC,OAAOC,iBAAiB,OAAQH,EAAAI,oBAehBC,SAASC,cAAc,kBAC/BC,UAAUC,OAAO,iBAETH,SAASC,cAAc,YAAvC,MACMG,EAAWJ,SAASC,cAAc,2BAClCI,EAAUL,SAASC,cAAc,yBAyBvC,SAASK,EAAoBC,GAG3B,OADAC,QAAQC,IAAIF,GACLA,EACJG,KACC,EAACC,GACCA,EAAEC,UACFA,EAASC,MACTA,EAAKC,aACLA,EAAYC,WACZA,EAAUC,WACVA,EAAUC,eACVA,EAAcC,SACdA,EAAQC,YACRA,MAKA,MAAMC,GAAa,EAAAC,EAAAC,SAAcH,GAIjC,OA2BR,UAAwBR,GACtBA,EAAEY,YACFA,EAAWV,MACXA,EAAKW,OACLA,EAAMT,WACNA,EAAUU,gBACVA,EAAeL,WACfA,EAAUM,YACVA,EAAWV,WACXA,EAAUC,eACVA,EAAcC,SACdA,IAEA,MAAO,8BAA8BP,mG,gpBAxCxBgB,CAAe,C,GACpBhB,E,YACAY,Y,MACAV,E,OACAW,O,WACAT,E,gBACAU,gB,WACAL,E,YACAM,Y,WACAV,E,eACAC,E,SACAC,GACA,IAGLU,KAAK,G,CA7DVxB,EAASN,iBAAiB,SAG1B,WACE,MACM+B,GADS,EAAAC,EAAAC,MAAK,SACKC,KAAKC,OAAOC,QACrC5B,EAAoBuB,GACpBrB,QAAQC,IACN,oCACAH,EAAoBuB,G,IARxBxB,EAAQP,iBAAiB,SAkBzB,WACEQ,EAAoB6B,EAAAC,MAAMJ,KAAKC,OAAOI,K,IAlBxCC,EAAAC,KAAKC,eAAe1C,iBAAiB,QAASwC,EAAAG","sources":["src/js/components/my-library.js"],"sourcesContent":["import { removeGlobalLoader } from '../services/loader';\r\nwindow.addEventListener('load', removeGlobalLoader);\r\n\r\nimport { islogin } from '../services/islogin';\r\nimport { genresSearch } from '../utiles/get_geners';\r\nimport { cardMarkup } from '../services/cardMarkup';\r\n\r\nimport getPosterPath from '../utiles/get_poster_path';\r\nimport { switchBTNs } from '../services/swith-buttons';\r\nimport { STATE } from './state';\r\nimport { save, load } from '../services/library-storage';\r\nimport {\r\n  createCardMarkup,\r\n  appendCardsMarkup,\r\n} from '../services/createCardMarkup';\r\nimport { refs, createFilmModal } from '../services/modal-film';\r\nconst library = document.querySelector('.isDisabled-js');\r\nlibrary.classList.remove('isDisabled-js');\r\n\r\nconst gallery = document.querySelector('.gallery');\r\nconst watchBTN = document.querySelector(\"[data-action='watched']\");\r\nconst qeueBTN = document.querySelector(\"[data-action='queue']\");\r\n\r\nwatchBTN.addEventListener('click', watchHandler);\r\nqeueBTN.addEventListener('click', qeueHandler);\r\nrefs.filmCardListEl.addEventListener('click', createFilmModal);\r\nfunction watchHandler() {\r\n  const loaded = load('STATE');\r\n  const watchedMV = loaded.user.movies.watched;\r\n  createbigCardMarkup(watchedMV);\r\n  console.log(\r\n    'createbigCardMarkup(watchedMV);: ',\r\n    createbigCardMarkup(watchedMV)\r\n  );\r\n\r\n  //   if (load('STATE')) {\r\n  //     const response = load('STATE');\r\n  //     const watchARR = response.user.movies.wathed;\r\n  //     console.log(watchARR);\r\n  //   }\r\n  //   console.log('STATE: ', STATE);\r\n}\r\nfunction qeueHandler() {\r\n  createbigCardMarkup(STATE.user.movies.qeue);\r\n}\r\n\r\nfunction createbigCardMarkup(array) {\r\n  //   // console.log('array: ', array);\r\n  console.log(array);\r\n  return array\r\n    .map(\r\n      ({\r\n        id,\r\n        genre_ids,\r\n        title,\r\n        vote_average,\r\n        vote_count,\r\n        popularity,\r\n        original_title,\r\n        overview,\r\n        poster_path,\r\n      }) => {\r\n        title;\r\n        // const stringLength = title;\r\n        // const classStatus = quantityLetterOfString(stringLength);\r\n        const posterPath = getPosterPath(poster_path);\r\n        // const releaseFullYear = release_date.split('-')[0];\r\n        // const rating = vote_average.toFixed(1);\r\n        // const genreString = genresSearch(genre_ids);\r\n        return bigCard_Markup({\r\n          id,\r\n          genreString,\r\n          title,\r\n          rating,\r\n          vote_count,\r\n          releaseFullYear,\r\n          posterPath,\r\n          classStatus,\r\n          popularity,\r\n          original_title,\r\n          overview,\r\n        });\r\n      }\r\n    )\r\n    .join('');\r\n}\r\n// function quantityLetterOfString(stringLength) {\r\n//   if (stringLength.length <= 33) {\r\n//     const classStatus = 'isNoActive';\r\n//     return classStatus;\r\n//   } else {\r\n//     const classStatus = 'isActive';\r\n//     return classStatus;\r\n//   }\r\n// }\r\n\r\nfunction bigCard_Markup({\r\n  id,\r\n  genreString,\r\n  title,\r\n  rating,\r\n  vote_count,\r\n  releaseFullYear,\r\n  posterPath,\r\n  classStatus,\r\n  popularity,\r\n  original_title,\r\n  overview,\r\n}) {\r\n  return `<li class=\"card__item\" id=\"${id}\">\r\n              <div class=\"card__container\">\r\n                <img class=\"card__image\" src=\"${posterPath}\" alt=\"Зображення постера фільму ${title}\" loading=\"lazy\"/>\r\n                <div class=\"card__wrap\">\r\n                  <div class=\"card__activator ${classStatus}\">\r\n                    <h2 class=\"card__name\">${title}</h2>\r\n                  </div>\r\n                </div>\r\n                <div class=\"card__info\">\r\n                <p class=\"card__rating\">Vote / Votes ${rating} / ${vote_count}</p>\r\n                <p class=\"card__popularity\">Popularity ${popularity}</p>\r\n                <p class=\"card__originaltitle\">Original Title ${original_title}</p>\r\n                <p class=\"card__genres\">Genre ${genreString}</p>\r\n                <p class=\"card__about\">About ${overview}</p>\r\n              </div>\r\n        </li>`;\r\n}\r\n"],"names":["$329sq","parcelRequire","window","addEventListener","removeGlobalLoader","document","querySelector","classList","remove","$1dc6556bd78734c1$var$watchBTN","$1dc6556bd78734c1$var$qeueBTN","$1dc6556bd78734c1$var$createbigCardMarkup","array","console","log","map","id","genre_ids","title","vote_average","vote_count","popularity","original_title","overview","poster_path","posterPath","$g8QMV","default","genreString","rating","releaseFullYear","classStatus","$1dc6556bd78734c1$var$bigCard_Markup","join","watchedMV","$2bQ3f","load","user","movies","watched","$dBMb9","STATE","qeue","$gBKt4","refs","filmCardListEl","createFilmModal"],"version":3,"file":"library.0f14870d.js.map"}